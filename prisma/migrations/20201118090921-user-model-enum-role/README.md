# Migration `20201118090921-user-model-enum-role`

This migration has been generated by Konrad Rosa at 11/18/2020, 10:09:21 AM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TYPE "public"."Role" AS ENUM ('USER', 'ADMIN')

CREATE TABLE "User" (
"id" SERIAL,
    "username" TEXT NOT NULL,
    "password" TEXT NOT NULL,
    "role" "Role" NOT NULL DEFAULT E'USER',

    PRIMARY KEY ("id")
)

CREATE UNIQUE INDEX "User.username_unique" ON "User"("username")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201117122825-fixed-category-property-on-product..20201118090921-user-model-enum-role
--- datamodel.dml
+++ datamodel.dml
@@ -1,13 +1,20 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url = "***"
 }
 generator client {
   provider = "prisma-client-js"
 }
+model User {
+  id       Int    @id @default(autoincrement())
+  username String @unique
+  password String
+  role     Role   @default(USER)
+}
+
 model Product {
   id          Int       @id @default(autoincrement())
   title       String
   description String?
@@ -22,4 +29,9 @@
   title    String    @unique
   image    String?
   products Product[]
 }
+
+enum Role {
+  USER
+  ADMIN
+}
```


